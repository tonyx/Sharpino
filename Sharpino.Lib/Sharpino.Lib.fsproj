<Project Sdk="Microsoft.NET.Sdk">

  <PropertyGroup>
    <TargetFrameworks>net8.0; net7.0</TargetFrameworks>

    <GeneratePackageOnBuild>true</GeneratePackageOnBuild>
    <GenerateDocumentationFile>true</GenerateDocumentationFile>
    <PackageId>Sharpino</PackageId>
    <Version>2.5.9</Version>
    <Authors>Antonio Lucca</Authors>
    <PackageLicenseExpression>MIT</PackageLicenseExpression>
    <PackageLicenseFile>LICENSE</PackageLicenseFile>
    <PackageReadmeFile>README.md</PackageReadmeFile>

    <RepositoryUrl>https://github.com/tonyx/Sharpino</RepositoryUrl>
    <Description>Simple F# Event-Sourcing Library</Description>
    <ReleaseNotes>This release supports In-memory and Postgres as event store</ReleaseNotes> 
    <Copyright>Copyright ©2023-2024 Antonio Lucca</Copyright>
    <PackageTags>event-sourcing, F#, FSharp, PostgreSQL</PackageTags>

    <AsyncTimeOut>1000</AsyncTimeOut> 
    
  </PropertyGroup>

  <ItemGroup>
    <Compile Include="Commons.fs" />
    <Compile Include="Conf.fs" />
    <Compile Include="EventStore.fs" />
    <Compile Include="ListRepository.fs" />
    <Compile Include="PgEventStore.fs" />
    <Compile Include="PgBinaryEventStore.fs" />
    <Compile Include="KafkaBroker.fs" />
    <Compile Include="MemoryStorage.fs" />
    <Compile Include="EventStoreStorage.fs" />

    <Compile Include="MailboxProcessors.fs" />
    <Compile Include="Cache.fs" />
    <Compile Include="StateView.fs" />
    <Compile Include="CommandHandler.fs" />
    <Compile Include="LightCommandHandler.fs" />
    <Compile Include="KafkaReceiver.fs" />
    <None Include="LICENSE" Pack="true" PackagePath="" />
    <None Include="README.md" Pack="true" PackagePath="" />
  </ItemGroup>

  <ItemGroup>
    <PackageReference Include="Confluent.Kafka" Version="2.5.3" />
    <PackageReference Include="EventStore.Client.Grpc.Streams" Version="23.3.5" />
    <PackageReference Include="Expecto" Version="10.2.1" />
    <PackageReference Include="Expecto.FsCheck" Version="10.2.1" />
    <PackageReference Include="FsCheck" Version="2.16.6" />
    <PackageReference Include="FSharp.Quotations.Evaluator" Version="2.1.0" />

    <PackageReference Include="FsPickler" Version="5.3.2" />
    <PackageReference Include="FsPickler.Json" Version="5.3.2" />

    <PackageReference Include="FsToolkit.ErrorHandling" Version="4.17.0" />

    <PackageReference Include="librdkafka.redist" Version="2.5.3" />

<!--    <PackageReference Include="Log4net" Version="2.0.17" />-->
    <PackageReference Include="Log4net" Version="3.0.0" />
    <PackageReference Include="Microsoft.Extensions.Configuration" Version="8.0.0" />
    <PackageReference Include="Microsoft.Extensions.Configuration.Binder" Version="8.0.2" />
    <PackageReference Include="Microsoft.Extensions.Configuration.Json" Version="8.0.0" />
    <PackageReference Include="Microsoft.Extensions.Hosting" Version="8.0.0" />
    <PackageReference Include="Microsoft.Extensions.Hosting.Abstractions" Version="8.0.0" />
    <PackageReference Include="Sharpino.Core" Version="2.1.3" />

    <PackageReference Include="System.Data.Common" Version="4.3.0" />
    <PackageReference Include="YoloDev.Expecto.TestSdk" Version="0.*" />
    <PackageReference Include="Microsoft.NET.Test.Sdk" Version="17.*" />

    <PackageReference Include="Farmer" Version="1.9.2" />
    <PackageReference Include="FSharp.Control.AsyncSeq" Version="3.2.1" />
    <PackageReference Include="FSharp.Data" Version="6.4.0" />
    <PackageReference Include="FSharpPlus" Version="1.6.1" />
    <PackageReference Include="Newtonsoft.Json" Version="13.0.3" />
    <PackageReference Include="Npgsql" Version="8.0.4" />
    <PackageReference Include="Npgsql.FSharp" Version="5.7.0" />
    <PackageReference Include="System.collections" Version="4.3.0" />

    <PackageReference Include="MinVer" Version="6.0.0" PrivateAssets="All" />
    <PackageReference Include="Serilog" Version="4.0.1" />
    
  </ItemGroup>

  <ItemGroup>
    <ProjectReference Include="..\FsKafka\src\FsKafka\FsKafka.fsproj" />
  </ItemGroup>

  <!-- needed if you are developing the core: -->
<!--  -->

<!--<ItemGroup>-->
<!-- <ProjectReference Include="..\Sharpino.Lib.Core\Sharpino.Lib.Core.fsproj" />-->
<!--</ItemGroup>-->


</Project>
